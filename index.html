<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" type="image/x-icon" href="favicon.ICO">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		 <script
			src="https://code.jquery.com/jquery-2.2.4.min.js"
			integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
			crossorigin="anonymous"></script>
		 <script
			src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
			integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
			crossorigin="anonymous"></script>
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" href="stubborn-styles.css">
		<title>Casual Death</title>
	</head>
	<body>
		
		<span id="app">

		<canvas id="c"></canvas>
		<div id="block-top"></div>

		<div id="head-of-site">
			<img id="logo" src="logo.png">
			<div id="link-buttons">
				<a href="https://www.instagram.com/csl_dth/" target="_blank"><img class="social-media-icon" src="instagram-icon.png"></a>
				<a href="https://www.facebook.com/CasualDeath/" target="_blank"><img class="social-media-icon" src="facebook-icon.png"></a>
				<a href="https://twitter.com/CSL_DTH" target="_blank"><img class="social-media-icon" src="twitter-icon.png"></a>
				<a href="https://itunes.apple.com/us/album/ive-fallen-and-i-cant-get-up-single/id1294138749?app=itunes&ign-mpt=uo%3D4" target="_blank"><img class="social-media-icon" src="itunes-icon.png"></a>
				<a href="https://soundcloud.com/user-390690046" target="_blank"><img class="social-media-icon" src="soundcloud-icon.ico"></a>
				<a href="https://play.google.com/store/music/album/Casual_Death_I_ve_Fallen_and_I_Can_t_Get_Up?id=Bswdkccwlq42ldh2gxfoaetkeua" target="_blank"><img class="social-media-icon" src="google-play-icon.png"></a>
				<a href="https://open.spotify.com/album/4g3V8Z9WhpF8U3gTdEft1v" target="_blank"><img class="social-media-icon" src="spotify-icon.png"></a>
				<a href="http://www.amazon.com/gp/product/B07695K62V/?tag=distrokid06-20" target="_blank"><img class="social-media-icon" src="amazon-music.ico"></a>
				<a href="https://tidal.com/track/79743158" target="_blank"><img class="social-media-icon" src="tidal-icon.png"></a>
				<a href="https://itunes.apple.com/us/album/ive-fallen-and-i-cant-get-up-single/id1294138749?app=music&ign-mpt=uo%3D4" target="_blank"><img class="social-media-icon" src="apple-music-icon.png"></a>
			</div>
		
			<div id="bottom-of-header">
				<div id="profpic-wrapper"><img id="profpic" src="profpic-skeleton-only.png"></div>
				<div id="palmtree-set1">
					<img class="palmtrees" src="palmtrees.png">
					<img class="palmtrees-two" src="palmtrees.png">
				</div>
				<div id="palmtree-set2">
					<img class="palmtrees-two" src="palmtrees-reverse.png">
					<img class="palmtrees-reverse" src="palmtrees-reverse.png">
				</div>
			</div>
		</div>

		<div id="content-area">
			<iframe src="https://open.spotify.com/follow/1/?uri=spotify:artist:6l0dBb3myulpXsGaNzIXtt&size=detail&theme=dark&show-count=0" width="200" height="56" scrolling="no" frameborder="0" style=" margin-top: 20px;" allowtransparency="true"></iframe>
			<h1>Listen to "I've Fallen and I Can't Get Up"</h1>
			<img id="album-art" style="width: 300px;" src="falling.jpg">
			<div>
			<iframe style="text-align: center;" src="https://open.spotify.com/embed/artist/6l0dBb3myulpXsGaNzIXtt" width="300" height="400" frameborder="0" allowtransparency="true"></iframe>
		</div>

		<div style="opacity: 0;" id="rain" class="rain"></div>
		</div>
	</span>

	<div id="loading">
		<h1>Loading...</h1>
		<h3>If this is taking too long, check out my social media:</h3>
		<div style="margin-top: 200px;" id="link-buttons">
				<a href="https://www.instagram.com/csl_dth/" target="_blank"><img class="social-media-icon" src="instagram-icon.png"></a>
				<a href="https://www.facebook.com/CasualDeath/" target="_blank"><img class="social-media-icon" src="facebook-icon.png"></a>
				<a href="https://twitter.com/CSL_DTH" target="_blank"><img class="social-media-icon" src="twitter-icon.png"></a>
				<a href="https://itunes.apple.com/us/album/ive-fallen-and-i-cant-get-up-single/id1294138749?app=itunes&ign-mpt=uo%3D4" target="_blank"><img class="social-media-icon" src="itunes-icon.png"></a>
				<a href="https://soundcloud.com/user-390690046" target="_blank"><img class="social-media-icon" src="soundcloud-icon.ico"></a>
				<a href="https://play.google.com/store/music/album/Casual_Death_I_ve_Fallen_and_I_Can_t_Get_Up?id=Bswdkccwlq42ldh2gxfoaetkeua" target="_blank"><img class="social-media-icon" src="google-play-icon.png"></a>
				<a href="https://open.spotify.com/album/4g3V8Z9WhpF8U3gTdEft1v" target="_blank"><img class="social-media-icon" src="spotify-icon.png"></a>
				<a href="http://www.amazon.com/gp/product/B07695K62V/?tag=distrokid06-20" target="_blank"><img class="social-media-icon" src="amazon-music.ico"></a>
				<a href="https://tidal.com/track/79743158" target="_blank"><img class="social-media-icon" src="tidal-icon.png"></a>
				<a href="https://itunes.apple.com/us/album/ive-fallen-and-i-cant-get-up-single/id1294138749?app=music&ign-mpt=uo%3D4" target="_blank"><img class="social-media-icon" src="apple-music-icon.png"></a>
			</div>
	</div>

	<div id="credits">
		<span id="neff-credits"><h4>Skeleton Artwork by: <a href="https://www.facebook.com/ALPHAOASIS/" target="_blank">Neff</a></h4></span>
		<span id="zack-credits"><h4>Website Developed by: <a href="https://www.instagram.com/zackazt/">Zack Wilson</a></h4></span>
	</div>

		

		<script type="text/javascript">
			var intervalId = "";

			$(document).ready(function() {
			  intervalId = setInterval("letItRain()",150);
			  $('.rain-type').change(function() {
			    clearInterval(intervalId);
			    intervalId = setInterval("letItRain()", $(this).val());
			  });
			  $('.water').animate({
			    bottom: "+=20px"
			  }, 20000);
			});

			function letItRain() {
			var wHeight = $(window).height();
			  var x = Math.floor(Math.random() * parseInt($('body').css('width'))) + 1;
			  $('.rain').append("<div class='drop' style='left: "+x+"px;'></div>");
			  $('.drop').animate({
			    top: wHeight + "px",
			    left: "+=200px"
			  }, 1000, function() {
			    $(this).remove();
			  });
			}
		</script>

		<script type="text/javascript">
			$( window ).load(function () {
				$("#loading").animate({"opacity": 0}, "slow", function() {
					$("#loading").css({"display": "none"});
					$("#app").css({"visibility":"visible"});
					var wWidth  = $(window).width();
					var wHeight = $(window).height();
					var lWidth  = $("#logo").width();
					var pWidth  = $("#profpic").width();
					$("#logo").css({"margin-left": (wWidth/2) - (lWidth/2) + "px", "visibility": "visible"});
					$("#profpic").css({"margin-left": (wWidth/2) - (pWidth/2) + "px", "visibility": "visible"});

					$(document).scrollTop(0);
				});
				
				//$("#content-area").css({"margin-top": wHeight + "px"});
			});
			$(window).resize(function(){
			    var wWidth  = $(window).width();
			    var wHeight = $(window).height();
				var lWidth  = $("#logo").width();
				var pWidth  = $("#profpic").width();
				$("#logo").css({"margin-left": (wWidth/2) - (lWidth/2) + "px", "visibility": "visible"});
				$("#profpic").css({"margin-left": (wWidth/2) - (pWidth/2) + "px", "visibility": "visible"});

				//$("#content-area").css({"margin-top": wHeight + "px"});
			});
			$(window).scroll(function() {
				var wHeight = $(window).height();
				var scrollTop = $(window).scrollTop();
				var opacity = 1 - (wHeight/scrollTop);
				$("#profpic").css({"bottom": 0 - scrollTop, "transition": "none"});
				$("#palmtree-set1").css({"left": 0 - scrollTop});
				$("#palmtree-set2").css({"right": 0 - scrollTop});

				var val = $(document).scrollTop() * 0.0015;
				

				

				//$("#c").css({"opacity": 0.6 - val}) ? val <= 0.2 : $("#c").css({"opacity": 0.2});

				if(val <= 0.6){
					var newVal = 0.8 - val;
					console.log(newVal);
					$("#c").css({"opacity": newVal + ""})
				}


				
				

				$("#rain").css({"opacity": 0 + ($(document).scrollTop() * 0.0015)});
			});
		</script>

		<script type="text/javascript">
			var colors = ["#9c51ba", "#ff62ff", "#ebd527", "#17e4f7", "#cba2c0"]
			var i = 0;
			$("body").css("background-color","#cba2c0");
			function changeColor()
			{
			    i++;
			    i=i%5;
			    $("body").animate({backgroundColor: colors[i]},5000);
			    setTimeout(changeColor,0);
			}
			$( document ).ready(changeColor());
		</script>

		<script type="text/javascript">
			(function() {
			  var Blip, blips, c, ch, clear, ctx, cw, divider, globalTick, initialBlips, pi2, rand, run;

			  c = document.getElementById('c');

			  ctx = c.getContext('2d');

			  divider = 12;

			  cw = c.width = window.innerWidth / divider;

			  ch = c.height = window.innerHeight / divider;

			  pi2 = Math.PI * 2;

			  blips = [];

			  initialBlips = 30;

			  globalTick = 0;

			  rand = function(min, max) {
			    return Math.floor((Math.random() * (max - min + 1)) + min);
			  };
			  Blip = function(x, y) {
			    this.x = x;
			    this.y = y;
			    this.r = .1;
			    this.rGrowthBase = 1;
			    this.rGrowth = this.rGrowthBase;
			    this.rMax = (cw + ch) / 7;
			    return this.alpha = 1;
			  };
			  Blip.prototype.update = function(i) {
			    var percent;
			    percent = (this.rMax - this.r) / this.rMax;
			    this.rGrowth = .1 + this.rGrowthBase * percent;
			    this.r += this.rGrowth;
			    this.alpha = percent;
			    if (this.r > this.rMax) {
			      return blips.splice(i, 1);
			    }
			  };
			  Blip.prototype.render = function(i) {
			    ctx.beginPath();
			    ctx.arc(this.x, this.y, this.r, 0, pi2, false);
			    ctx.fillStyle = 'hsla(' + rand(globalTick - 80, globalTick + 80) + ', 50%, 1%, ' + this.alpha + ')';
			    return ctx.fill();
			  };
			  clear = function() {
			    ctx.globalCompositeOperation = 'destination-out';
			    ctx.fillStyle = 'hsla(0, 0%, 0%, .01)';
			    ctx.fillRect(0, 0, cw, ch);
			    return ctx.globalCompositeOperation = 'lighter';
			  };
			  run = function() {
			    var i;
			    window.requestAnimationFrame(run, c);
			    clear();
			    i = blips.length;
			    while (i--) {
			      blips[i].update(i);
			    }
			    i = blips.length;
			    while (i--) {
			      blips[i].render(i);
			    }
			    blips.push(new Blip(rand(0, cw), rand(0, ch)));
			    return globalTick++;
			  };
			  $(window).on('resize', function() {
			    cw = c.width = window.innerWidth / divider;
			    return ch = c.height = window.innerHeight / divider;
			  });
			  window.requestAnimationFrame || (window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback, element) {
			    return window.setTimeout(function() {
			      return callback(+new Date());
			    }, 1000 / 60);
			  });
			  run();
			}).call(this);
		</script>


	</body>
</html>